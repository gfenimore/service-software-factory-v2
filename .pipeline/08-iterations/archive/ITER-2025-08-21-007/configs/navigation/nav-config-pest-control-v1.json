{
  "version": "1.0",
  "appName": "Pest Control Pro",
  "industry": "pest-control",
  "type": "context-aware",
  
  "roles": [
    {
      "id": "owner",
      "label": "Owner",
      "description": "Business owner with full system access",
      "accessLevel": "full"
    },
    {
      "id": "ops-manager",
      "label": "Operations Manager",
      "description": "Manages daily operations and scheduling",
      "accessLevel": "operations"
    },
    {
      "id": "admin",
      "label": "Administrator",
      "description": "Handles customer accounts and billing",
      "accessLevel": "administrative"
    },
    {
      "id": "technician",
      "label": "Technician",
      "description": "Field service technician",
      "accessLevel": "field",
      "mobileOnly": true
    }
  ],
  
  "operationalFunctions": [
    {
      "id": "accounts",
      "label": "Accounts",
      "icon": "👥",
      "description": "Customer account management"
    },
    {
      "id": "operations",
      "label": "Operations",
      "icon": "🔧",
      "description": "Service delivery and scheduling"
    },
    {
      "id": "administration",
      "label": "Administration",
      "icon": "📋",
      "description": "Business administration and compliance"
    },
    {
      "id": "reports",
      "label": "Reports",
      "icon": "📊",
      "description": "Analytics and reporting"
    }
  ],
  
  "contexts": {
    "owner-strategic": {
      "role": "owner",
      "intent": "monitor-business",
      "timeContext": "anytime",
      "modules": [
        {
          "id": "dashboard",
          "label": "Executive Dashboard",
          "icon": "🎯",
          "priority": "top",
          "items": [
            {
              "label": "Revenue Today",
              "icon": "💰",
              "viewConfig": "revenue-today",
              "badge": "$12,450"
            },
            {
              "label": "Service Completion",
              "icon": "✅",
              "viewConfig": "completion-rate",
              "badge": "94%"
            },
            {
              "label": "New Customers",
              "icon": "🆕",
              "viewConfig": "new-customers-week",
              "badge": "12"
            },
            {
              "label": "Cancellations",
              "icon": "⚠️",
              "viewConfig": "cancellation-alerts",
              "badge": "2"
            }
          ]
        },
        {
          "id": "accounts",
          "label": "Accounts",
          "icon": "👥",
          "items": [
            {
              "label": "All Customers",
              "icon": "📋",
              "viewConfig": "customer-list"
            },
            {
              "label": "High Value Accounts",
              "icon": "⭐",
              "viewConfig": "vip-accounts"
            },
            {
              "label": "At Risk Accounts",
              "icon": "🚨",
              "viewConfig": "at-risk-accounts",
              "badge": "5"
            },
            {
              "label": "Growth Opportunities",
              "icon": "📈",
              "viewConfig": "upsell-opportunities"
            }
          ]
        },
        {
          "id": "operations",
          "label": "Operations",
          "icon": "🔧",
          "items": [
            {
              "label": "Today's Schedule",
              "icon": "📅",
              "viewConfig": "daily-schedule"
            },
            {
              "label": "Route Efficiency",
              "icon": "🗺️",
              "viewConfig": "route-analysis"
            },
            {
              "label": "Technician Performance",
              "icon": "👷",
              "viewConfig": "tech-performance"
            },
            {
              "label": "Service Quality",
              "icon": "⭐",
              "viewConfig": "quality-metrics"
            }
          ]
        },
        {
          "id": "administration",
          "label": "Administration",
          "icon": "📋",
          "items": [
            {
              "label": "Payroll Summary",
              "icon": "💵",
              "viewConfig": "payroll-summary"
            },
            {
              "label": "Chemical Inventory",
              "icon": "🧪",
              "viewConfig": "chemical-inventory"
            },
            {
              "label": "Compliance Status",
              "icon": "✓",
              "viewConfig": "compliance-dashboard"
            },
            {
              "label": "Insurance & Licenses",
              "icon": "📄",
              "viewConfig": "insurance-licenses"
            }
          ]
        },
        {
          "id": "reports",
          "label": "Reports",
          "icon": "📊",
          "items": [
            {
              "label": "P&L Statement",
              "icon": "💼",
              "viewConfig": "profit-loss"
            },
            {
              "label": "Monthly Trends",
              "icon": "📈",
              "viewConfig": "monthly-trends"
            },
            {
              "label": "Customer Retention",
              "icon": "🔄",
              "viewConfig": "retention-report"
            },
            {
              "label": "Market Analysis",
              "icon": "🎯",
              "viewConfig": "market-analysis"
            }
          ]
        }
      ]
    },
    
    "ops-manager-morning": {
      "role": "ops-manager",
      "timeContext": "morning",
      "intent": "prepare-day",
      "modules": [
        {
          "id": "morning-priority",
          "label": "Morning Priority",
          "icon": "☀️",
          "priority": "urgent",
          "items": [
            {
              "label": "Unassigned Routes",
              "icon": "🚫",
              "viewConfig": "unassigned-routes",
              "badge": "3",
              "priority": "high"
            },
            {
              "label": "Tech Call-Outs",
              "icon": "📵",
              "viewConfig": "absent-technicians",
              "badge": "1",
              "priority": "high"
            },
            {
              "label": "Yesterday's Issues",
              "icon": "⚠️",
              "viewConfig": "unresolved-issues",
              "badge": "2"
            },
            {
              "label": "Today's Schedule",
              "icon": "📋",
              "viewConfig": "daily-schedule"
            }
          ]
        },
        {
          "id": "operations",
          "label": "Operations",
          "icon": "🔧",
          "items": [
            {
              "label": "Route Board",
              "icon": "🗺️",
              "viewConfig": "route-board"
            },
            {
              "label": "Technician Status",
              "icon": "👷",
              "viewConfig": "tech-status"
            },
            {
              "label": "Schedule Service",
              "icon": "📅",
              "viewConfig": "scheduling-tool"
            },
            {
              "label": "Reschedule Queue",
              "icon": "🔄",
              "viewConfig": "reschedule-queue",
              "badge": "4"
            }
          ]
        },
        {
          "id": "accounts",
          "label": "Accounts",
          "icon": "👥",
          "items": [
            {
              "label": "New Sign-ups",
              "icon": "✨",
              "viewConfig": "new-customers",
              "badge": "2"
            },
            {
              "label": "Service Due",
              "icon": "🔔",
              "viewConfig": "service-due"
            },
            {
              "label": "Customer Search",
              "icon": "🔍",
              "viewConfig": "customer-search"
            }
          ]
        }
      ]
    },
    
    "ops-manager-active": {
      "role": "ops-manager",
      "timeContext": "midday",
      "intent": "monitor-operations",
      "modules": [
        {
          "id": "live-operations",
          "label": "Live Operations",
          "icon": "📡",
          "items": [
            {
              "label": "Technician Map",
              "icon": "🗺️",
              "viewConfig": "live-tech-map",
              "badge": "LIVE"
            },
            {
              "label": "Services in Progress",
              "icon": "🔄",
              "viewConfig": "active-services",
              "badge": "12"
            },
            {
              "label": "Completed Today",
              "icon": "✅",
              "viewConfig": "completed-services",
              "badge": "28"
            },
            {
              "label": "Running Behind",
              "icon": "⏰",
              "viewConfig": "delayed-services",
              "badge": "2",
              "priority": "warning"
            }
          ]
        },
        {
          "id": "customer-service",
          "label": "Customer Service",
          "icon": "📞",
          "items": [
            {
              "label": "Incoming Calls",
              "icon": "📱",
              "viewConfig": "call-queue",
              "badge": "3"
            },
            {
              "label": "Service Requests",
              "icon": "🆘",
              "viewConfig": "service-requests"
            },
            {
              "label": "Complaints",
              "icon": "😟",
              "viewConfig": "complaints",
              "badge": "1"
            }
          ]
        },
        {
          "id": "operations",
          "label": "Adjustments",
          "icon": "🔧",
          "items": [
            {
              "label": "Reassign Route",
              "icon": "🔀",
              "viewConfig": "route-reassignment"
            },
            {
              "label": "Add Service Stop",
              "icon": "➕",
              "viewConfig": "add-stop"
            },
            {
              "label": "Cancel Service",
              "icon": "❌",
              "viewConfig": "cancel-service"
            }
          ]
        }
      ]
    },
    
    "admin-daily": {
      "role": "admin",
      "intent": "manage-accounts",
      "modules": [
        {
          "id": "accounts",
          "label": "Accounts",
          "icon": "👥",
          "items": [
            {
              "label": "Customer Search",
              "icon": "🔍",
              "viewConfig": "customer-search",
              "priority": "top"
            },
            {
              "label": "New Customer",
              "icon": "➕",
              "viewConfig": "new-customer-form"
            },
            {
              "label": "All Customers",
              "icon": "📋",
              "viewConfig": "customer-list"
            },
            {
              "label": "Edit Account",
              "icon": "✏️",
              "viewConfig": "account-editor"
            },
            {
              "label": "Service Agreements",
              "icon": "📄",
              "viewConfig": "service-agreements"
            }
          ]
        },
        {
          "id": "administration",
          "label": "Administration",
          "icon": "📋",
          "items": [
            {
              "label": "Invoicing",
              "icon": "💰",
              "viewConfig": "invoice-management",
              "badge": "12"
            },
            {
              "label": "Payments",
              "icon": "💳",
              "viewConfig": "payment-processing"
            },
            {
              "label": "Past Due",
              "icon": "⚠️",
              "viewConfig": "past-due-accounts",
              "badge": "8"
            },
            {
              "label": "Collections",
              "icon": "📞",
              "viewConfig": "collections-queue"
            },
            {
              "label": "Refunds/Credits",
              "icon": "💸",
              "viewConfig": "refunds-credits"
            }
          ]
        },
        {
          "id": "operations",
          "label": "Service Support",
          "icon": "🔧",
          "items": [
            {
              "label": "Schedule Service",
              "icon": "📅",
              "viewConfig": "schedule-service"
            },
            {
              "label": "Service History",
              "icon": "📜",
              "viewConfig": "service-history"
            },
            {
              "label": "Cancel Service",
              "icon": "❌",
              "viewConfig": "cancel-service"
            }
          ]
        },
        {
          "id": "reports",
          "label": "Reports",
          "icon": "📊",
          "items": [
            {
              "label": "Daily Revenue",
              "icon": "💵",
              "viewConfig": "daily-revenue"
            },
            {
              "label": "Aging Report",
              "icon": "📊",
              "viewConfig": "aging-report"
            },
            {
              "label": "Customer Activity",
              "icon": "📈",
              "viewConfig": "customer-activity"
            }
          ]
        }
      ]
    },
    
    "technician-field": {
      "role": "technician",
      "platform": "mobile",
      "intent": "complete-route",
      "modules": [
        {
          "id": "current-service",
          "label": "Current Stop",
          "icon": "📍",
          "priority": "sticky",
          "items": [
            {
              "label": "Service Details",
              "icon": "📋",
              "viewConfig": "current-service-details",
              "priority": "top"
            },
            {
              "label": "Customer Info",
              "icon": "👤",
              "viewConfig": "customer-info"
            },
            {
              "label": "Service History",
              "icon": "📜",
              "viewConfig": "location-history"
            },
            {
              "label": "Special Instructions",
              "icon": "⚠️",
              "viewConfig": "special-instructions"
            }
          ]
        },
        {
          "id": "service-completion",
          "label": "Complete Service",
          "icon": "✅",
          "items": [
            {
              "label": "Service Report",
              "icon": "📝",
              "viewConfig": "service-report-form"
            },
            {
              "label": "Chemical Usage",
              "icon": "🧪",
              "viewConfig": "chemical-application"
            },
            {
              "label": "Take Photos",
              "icon": "📸",
              "action": "camera-capture"
            },
            {
              "label": "Get Signature",
              "icon": "✍️",
              "action": "signature-capture"
            },
            {
              "label": "Complete & Next",
              "icon": "➡️",
              "action": "complete-and-continue",
              "priority": "primary"
            }
          ]
        },
        {
          "id": "my-route",
          "label": "My Route",
          "icon": "🗺️",
          "items": [
            {
              "label": "Route List",
              "icon": "📋",
              "viewConfig": "route-list",
              "badge": "5 remaining"
            },
            {
              "label": "Route Map",
              "icon": "🗺️",
              "viewConfig": "route-map"
            },
            {
              "label": "Next Stop",
              "icon": "⏭️",
              "viewConfig": "next-stop-preview"
            }
          ]
        },
        {
          "id": "support",
          "label": "Support",
          "icon": "🆘",
          "items": [
            {
              "label": "Call Office",
              "icon": "📞",
              "action": "call-dispatch"
            },
            {
              "label": "Report Problem",
              "icon": "⚠️",
              "viewConfig": "problem-report"
            },
            {
              "label": "Request Supplies",
              "icon": "📦",
              "viewConfig": "supply-request"
            },
            {
              "label": "End Day",
              "icon": "🏁",
              "viewConfig": "end-of-day"
            }
          ]
        }
      ]
    }
  },
  
  "contextRules": [
    {
      "name": "Owner Access",
      "condition": "user.role === 'owner'",
      "useContext": "owner-strategic",
      "showAllFunctions": true
    },
    {
      "name": "Ops Manager Morning",
      "condition": "user.role === 'ops-manager' && time >= 6:00 && time < 10:00",
      "useContext": "ops-manager-morning",
      "focusFunctions": ["operations", "accounts"]
    },
    {
      "name": "Ops Manager Active",
      "condition": "user.role === 'ops-manager' && time >= 10:00 && time < 17:00",
      "useContext": "ops-manager-active",
      "focusFunctions": ["operations"]
    },
    {
      "name": "Admin Standard",
      "condition": "user.role === 'admin'",
      "useContext": "admin-daily",
      "focusFunctions": ["accounts", "administration"]
    },
    {
      "name": "Technician Mobile",
      "condition": "user.role === 'technician' && device === 'mobile'",
      "useContext": "technician-field",
      "focusFunctions": ["operations"],
      "mobileOptimized": true
    }
  ],
  
  "accessControl": {
    "owner": {
      "functions": ["accounts", "operations", "administration", "reports"],
      "level": "full"
    },
    "ops-manager": {
      "functions": ["operations", "accounts", "reports"],
      "level": "operational"
    },
    "admin": {
      "functions": ["accounts", "administration", "reports"],
      "level": "administrative"
    },
    "technician": {
      "functions": ["operations"],
      "level": "field",
      "restrictions": ["mobile-only", "own-route-only"]
    }
  }
}